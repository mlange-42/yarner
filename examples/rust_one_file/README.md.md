# Rust/Markdown LP example


**Content**

* [Readme](#readme)
* [Project setup](#project-setup)
* [Git ignore file](#git-ignore-file)
* [Main function](#main-function)
* [Dead code](#dead-code)
* [Hidden code](#hidden-code)

## Readme

The content of the generated project's `README.md` will look like this (un-rendered, of course):

```
# Readme, generated by `outline`

All code in this folder and subfolders, including this readme,
`Cargo.toml` and `.gitignore` were created using literate programming.

You find the documentation from which the code and all other files were derived from
here: [../README.md.md](../README.md.md).
```

## Project setup

First, we need a simple `Cargo.toml` file:

```toml
// file:Cargo.toml
[package]
name = "rust_md"
version = "0.1.0"
authors = ["m-lange <martin_lange_@gmx.net>"]
edition = "2018"
```

## Git ignore file

In the file `.gitignore`, we need nothing more than the target directory.
However, the last line of this file should always be blank.

```
// file:.gitignore
/target

```

## Main function

Everything starts in the `main` function:

```rust
// file:src/main.rs
use rust_md;

fn main() {
    start();
    for _i in 0..10 {
        step();
    }
    stop();
    rust_md::secret();
}

==> Code of the functions.
```

The code for the `start()` function looks like this:

```rust
// Code of the functions
fn start() {
    println!("start");
}
```

The code for the `step()` function looks like this:

```rust
// Code of the functions
fn step() {
    println!("    step");
}
```

And finally, the code for the `stop()` function looks like this:

```rust
// Code of the functions
fn stop() {
    println!("stop");
}
```

## Dead code

Code blocks that should not appear in code output can be achieved
by giving them a name that is never used as a macro:

```rust
// Example
fn dead_code() {
    println!("I will not appear in the code.");
}
```

## Hidden code

Code blocks can be hidden from the documentation by prefixing their name with 'hidden:'.
Here, we include a code block that will not appear in the documentation

```rust
// file:src/lib.rs
pub fn secret() {
    ==> Secret code.
}
```

The hidden code was here, but is excluded from the output docs:

```rust
// hidden:Secret code
println!("I'm produced by hidden code!");
```
